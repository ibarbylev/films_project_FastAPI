# films_project_FastAPI

Простейший FastAPI проект, реализующий:
* простой пользовательский интерфейс (меню и страницы)
* формы для отправки POST-запросов
* страницы с пагинацией для отображения табличных данных
* поиск фильмов по ключевым словам

Проект демонстрирует работу с JSON-данными и динамическим рендерингом HTML через Jinja2.

## Структура проекта

```
films/
├── app.py
├── data/
│   ├── films.json
│   └── statistics.json
├── templates/
│   ├── base_page.html
│   ├── home.html
│   ├── genres.html
│   ├── films_table.html
│   ├── keyword.html
│   ├── year.html
│   └── statistics.html
├── static/
│   └── bootstrap/

```

### Инсталляция пакетов


```bash
pip install fastapi uvicorn[standard] jinja2 python-multipart
```
или

```bash
pip install -r requirements.txt
```

### Запуск проекта в строке терминала

```bash
uvicorn main:app --reload
```

После запуска сервер будет доступен по адресу http://127.0.0.1:8000.

### Особенности работы

* GET-эндпойнты отвечают за отображение страниц с таблицами и формами.
* POST-эндпойнты принимают данные из форм:
  * ключевое слово для поиска или диапазон поиска по годам
  * фильтрую список фильмов по ключам, переданным в форма
  * сохраняют результат поиска в глобальной переменной `filtered_films`
  * и делают редирект на соответствующую страницу.
* Пагинация реализована для всех таблиц, где выводится больше записей, чем помещается на одной странице.
  * (кроме страницы жанров)
  * количество строк на странице установлено в константе `PER_PAGE`
* Для поиска фильмов используется динамическая фильтрация JSON-данных по введённому слову.

